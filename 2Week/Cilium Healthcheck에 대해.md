
# 다수 Node 성능 최적화를 위해서 헬스체크 기능을 OFF 하고 운영하고 계신가요? OFF 후 운영 시 이슈는 없었는지?

--set endpointHealthChecking.enabled=false --set healthChecking=false \

* 다수 노드 환경에서 Healthcheck 비활성화가 일반적인가?
	•	다수(대규모) 노드의 성능 최적화를 위해 Cilium의 healthcheck(노드 간 ICMP/HTTP 프로브) 기능을 비활성화하는 것이 공식적으로도 추천되는 운영 방법 중 하나
	•	Cilium 커뮤니티와 공식 문서에서는 대규모 클러스터(수백 노드 이상) 환경에서 healthcheck로 인한 CPU/Mem 및 네트워크 부하가 상당히 커질 수 있으므로, 이를 비활성화하거나(OFF) probe 빈도를 낮추는 것을 권장
	•	프로브 빈도를 동적으로 조정하는 옵션도 있지만, 단순히 OFF(비활성화)하는 방안이 성능 개선 목적에 부합할 때 사용
	
* Healthcheck OFF 시 발생할 수 있는 운영 이슈
	* 장점(OFF 시):
		• 각 노드에서 발생하는 healthcheck 트래픽(풀 메시 ICMP/HTTP 체크)이 사라져 CPU/메모리/네트워크 부하가 크게 줄어듦.
		• 대규모 클러스터에서 다른 네트워크/보안 기능에 더 많은 리소스 할당 가능.
		• 실질적으로 성능 병목의 원인(Cilium 내부 트래픽)을 제거함.
	* 단점/잠재적 이슈:
		• 노드 간 네트워크 연결성(Reachability) 실시간 가시성 상실: healthcheck를 OFF하면 노드 간 연결상태 장애를 빠르게 탐지하기 어려워짐. 연결 문제나 네트워크 단절 발생 시 이를 Cilium 내부에서 즉시 알 수 없음.
		• 문제 발생 시 원인 추적 난이도 증가: 장애 발생시 진단이 어려워지며, 네트워크 분리나 패킷 드롭 등 사태를 사전에 감지하지 못할 수 있음.
		• 운영 자동화/알림의 한계: healthcheck 기반 자동화 탐지, 알림 시스템 활용이 불가피하게 제한됨.
		• 연동 모니터링 시스템 부재 시 리스크: 외부 관점에서 health를 계속해서 별도로 모니터링/테스트하지 않으면, 네트워크 이슈를 장시간 인지하지 못할 수 있음.

